<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.example.mapper.UserMapper">

<!--    方法，写的就是查询几个泛型，page的泛型-->
    <select id="queryByAge" resultType="user">
        select * from user where age > #{age}
    </select>
    <insert id="insertBatch">
        insert into user(id,name,age,
        email,deleted,version)
        values
        <foreach collection="userCollection" item="item" separator=",">
            (#{item.id,jdbcType=NUMERIC},#{item.name,jdbcType=VARCHAR},#{item.age,jdbcType=NUMERIC},
            #{item.email,jdbcType=VARCHAR},#{item.deleted,jdbcType=NUMERIC},#{item.version,jdbcType=NUMERIC})
        </foreach>
    </insert>
    <select id="selectByNameAndAge" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from user
        where
        name = #{name,jdbcType=VARCHAR}
        AND age = #{age,jdbcType=NUMERIC}
    </select>

</mapper>